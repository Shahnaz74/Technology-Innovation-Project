<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit Record</title>

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400;1,700&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">

    <!-- Bootstrap Icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">

    <!-- Font Awesome -->
    <script src="https://use.fontawesome.com/releases/v6.4.0/js/all.js" crossorigin="anonymous"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../css/bootstrap.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/custom-css.css">

    <!-- Bootstrap JS -->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>

    <!-- Custom JS -->
    <script defer src="../js/custom-js.js"></script>
</head>

<body>
    <!-- Top Nav Bar -->
    <nav id="topnavbar">
        <div class="navbar navbar-expand-lg navbar-light border-bottom border-danger">
            <div class="container-fluid d-flex align-items-center px-4">
                <a href="./home.html"><img src="../img/rcca-logo.png" class="hideInMobile pe-3" width="100px"
                        alt=""></a>
                <h5 class="flex-grow-1 primary-neutral-900 serif">Rover Car Club Of Australia - Record Archive</h5>

                <!-- Responsive menu toggler -->
                <button class="btn btn-primary navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                    aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item primary-red">
                            <a class="nav-link" href="submit_records.html">Upload</a>
                        </li>
                        <li class="nav-item hideInMobile">
                            <a class="nav-link">|</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="admin_portal_login.html">Admin Portal</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <section class="record-content">
        <div class="container px-5 py-5">
            <div class="row gx-5 justify-content-center mx-0">

                <div class="col-lg-11 col-xl-9 col-xxl-8">
                    <!-- Upload Form Description-->
                    <h4 id="uploadFormTitle" class="primary-red serif">Submit Record</h4>
                    <div id="uploadFormDesc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                        tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco
                        laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in
                        voluptate
                        velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                        proident,
                        sunt
                        in culpa qui officia deserunt mollit anim id est laborum. </div>
                    <!-- File Details Form -->
                    <h4 id="fileFormTitle" class="primary-red serif mb-4">File Details</h4>
                    <form class="needs-validation" novalidate>
                        <!-- File name -->
                        <div class="mb-4">
                            <label for="fileName" class="form-label">File name <span
                                    class="mandatoryField">*</span></label>
                            <input type="text" class="form-control" id="fileName" placeholder="" required>
                            <div class="invalid-feedback">
                                File name is required
                            </div>
                        </div>
                        <!-- Document type -->
                        <div class="col-md-3 mb-4">
                            <label for="documentType" class="form-label">Document type</label>
                            <select class="form-select" id="documentType" required>
                                <option selected disabled value="">Choose...</option>
                                <option>Advertisement Journal</option>
                                <option>Advertisement Newspaper</option>
                                <option>Article Journal</option>
                                <option>Article Newspaper
                                </option>
                                <option>Book Historical
                                </option>
                                <option>Book Technical</option>
                                <option>Photograph Commercial
                                </option>
                                <option>Photograph Personal
                                </option>
                                <option>Sales Brochure
                                </option>
                                <option>Sales Record
                                </option>
                            </select>
                            <div class="invalid-feedback">
                                Please select document type.
                            </div>
                        </div>
                        <!-- File upload -->
                        <div class="fileUpload container mb-4 px-0">
                            <label for="documentType" class="form-label">File upload <span
                                    class="mandatoryField">*</span></label>
                            <!-- Upload file area -->
                            <div id="drop-area" class="col-md-6 col-md-offset-3 py-5">
                                <img src="../img/fileUpload.svg" class="pb-2" alt="">
                                <h5 id="drop-hint" class="serif pb-2">Drag & drop files or <a href="#"
                                        id="browse-btn">Browse</a></h5>
                                <p id="drop-subhint">Supported formats: JPEG, PNG, PDF</p>
                                <input type="file" id="file-input" accept=".jpg, .jpeg, .png, .pdf"
                                    style="display:none;">
                                <p id="drop-subhint" class="primary-red">File size limit: 2MB</p>
                                <!-- <div class="row" id="thumbnails"></div> -->
                            </div>
                            <!-- Uploaded file area -->
                            <div id="uploaded-area">
                                <div class="input-group mb-3">
                                    <input id="uploaded-file-name" type="text" class="form-control" placeholder=""
                                        aria-label="" aria-describedby="basic-addon2">
                                    <button class="input-group-text deleteFileUpload" id="basic-addon2">
                                        <i class="bi bi-trash3-fill pe-2"></i>
                                        Delete file
                                    </button>
                                </div>
                                <div class="col-4" id="thumbnails">
                                    <!-- <img src="../img/uploadFileDummy.png" class="img-thumbnail" alt="..."> -->
                                </div>
                            </div>
                        </div>
                        <div class="row mb-4">
                            <!-- File source -->
                            <div class="col-lg-6">
                                <label for="fileSource" class="form-label">Source</label>
                                <input type="text" class="form-control" id="fileSource" placeholder="">
                            </div>
                        </div>
                        <!-- File description -->
                        <div class="mb-4">
                            <label for="fileDescription">Description</label>
                            <textarea class="form-control" rows="10" id="fileDescription"></textarea>
                        </div>
                        <!-- Uploader Details-->
                        <h4 id="uploaderDetailsTitle" class="primary-red serif mb-4">Uploader Details</h4>
                        <div class="row">
                            <!-- First Name -->
                            <div class="col-lg-6 mb-4">
                                <label for="firstNameField" class="form-label">First Name <span
                                        class="mandatoryField">*</span></label>
                                <input type="text" class="form-control" id="firstNameField" placeholder="">
                            </div>

                            <!-- Last Name -->
                            <div class="col-lg-6 mb-4">
                                <label for="lastNameField" class="form-label">Last Name <span
                                        class="mandatoryField">*</span></label>
                                <input type="text" class="form-control" id="lastNameField" placeholder="">
                            </div>
                        </div>
                        <div class="mb-4">
                            <label for="emailField" class="form-label">Email <span
                                    class="mandatoryField">*</span></label>
                            <input type="text" class="form-control" id="emailField" placeholder="">
                        </div>
                        <div class="mb-4">
                            <label for="membershipField" class="form-label">RCCA Membership ID</label>
                            <input type="text" class="form-control" id="membershipField" placeholder="">
                        </div>
                        <div class="d-grid gap-2 col-6 mx-auto my-5">
                            <button id="sumbitRecordBtn" type="submit" class="btn btn-primary">
                                <i class="bi bi-check-circle-fill pe-2"></i>Sumbit Record</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- footer -->
    <div class="footer">
        &copy; 2023 Rover Car Club of Australia
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src=”https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js”
        integrity=”sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo”
        crossorigin=”anonymous”></script>
    <!--script for drag and drop-->
    <script>
        $(document).ready(function () {
            $('#drop-area').show();
            $('#uploaded-area').hide();

            const dropZone = document.querySelector('#drop-area');
            const browseBtn = document.querySelector('#browse-btn');
            const fileInput = document.querySelector('#file-input');
            const deleteBtn = document.querySelector('#basic-addon2');

            dropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropZone.classList.add('drag-over');
            });

            dropZone.addEventListener('dragleave', (e) => {
                e.preventDefault();
                dropZone.classList.remove('drag-over');
            });

            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('drag-over');
                const file = e.dataTransfer.files[0];
                handleFile(file);
            });

            browseBtn.addEventListener('click', (e) => {
                e.preventDefault();
                fileInput.click();
            });

            fileInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                handleFile(file);
            });

            deleteBtn.addEventListener('click', (e) => {
                e.preventDefault();
                $('#drop-area').show();
                $('#uploaded-area').hide();
            });

            function handleFile(file) {
                // check file type
                const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];
                if (!allowedTypes.includes(file.type)) {
                    alert('Invalid file type. Please upload a JPEG, PNG, or PDF file.');
                    return;
                }
                $('#drop-area').hide();
                $('#uploaded-area').show();
                // Do something with the file, like upload it to a server
                console.log(file);
                var reader = new FileReader();
                reader.onload = function (event) {
                    $('#uploaded-file-name').val(file.name);
                    var thumbnail = '<div class="col-md-4 mb-4"><div class="card"><img class="card-img-top" src="' + event.target.result + '"></div></div>';
                    $('#thumbnails').html(thumbnail);
                };
                reader.readAsDataURL(file);
            }
        });
    </script>
</body>

</html>